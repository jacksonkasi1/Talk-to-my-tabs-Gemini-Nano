# Release Process

This document describes how to release new versions of the TalkToMyTabs Chrome extension.

## Automated Releases

The project is configured with GitHub Actions to automatically build and release the extension when code is pushed to the `main` branch.

### What happens automatically:

1. **On every push to main:**
   - Code is built and tested
   - Extension is packaged into a ZIP file
   - A new GitHub release is created with the current version
   - The ZIP file is attached to the release

2. **On pull requests:**
   - Code is built and tested
   - Build artifacts are stored for 30 days

## Manual Release Process

If you want to manually trigger a release or bump the version:

### Option 1: Using npm scripts (Recommended)

```bash
# For patch version bump (0.0.1 -> 0.0.2)
bun run release:patch

# For minor version bump (0.0.1 -> 0.1.0)
bun run release:minor

# For major version bump (0.0.1 -> 1.0.0)
bun run release:major
```

### Option 2: Manual process

1. **Bump the version in `apps/extension/package.json`**
2. **Commit and push the changes:**
   ```bash
   git add .
   git commit -m "chore: bump extension version to X.X.X"
   git push origin main
   ```

3. **GitHub Actions will automatically:**
   - Build the extension
   - Create a new release with tag `vX.X.X-{commit_sha}`
   - Upload the packaged extension ZIP

## Testing the Build Locally

To test the build process locally before releasing:

```bash
# Build the extension
bun run build:extension

# The packaged extension will be available at:
# apps/extension/build/chrome-mv3-prod.zip
```

## Release Assets

Each release includes:
- **Source code** (automatically generated by GitHub)
- **TalkToMyTabs-vX.X.X.zip** - The packaged Chrome extension ready for installation

## Installation Instructions for Users

Users can install the extension from releases:

1. Go to the [Releases page](https://github.com/yourusername/TalkToMyTabs/releases)
2. Download the latest `TalkToMyTabs-vX.X.X.zip` file
3. Extract the ZIP file
4. Open Chrome and navigate to `chrome://extensions/`
5. Enable "Developer mode" in the top right
6. Click "Load unpacked" and select the extracted folder
7. The extension is now installed!

## Troubleshooting

### Build Fails
- Check that all dependencies are installed: `bun install`
- Verify TypeScript types: `bun run check-types`
- Run linting: `bun run lint`

### Release Not Created
- Ensure you're pushing to the `main` branch
- Check GitHub Actions tab for build logs
- Verify `GITHUB_TOKEN` permissions in repository settings

### Version Conflicts
- Make sure to bump the version in `apps/extension/package.json`
- Each release should have a unique version number